<link rel="ractive" href="../r-page.html">
<link rel="ractive" href="../components/header.html" name="c-header">
<link rel="ractive" href="../components/footer.html" name="c-footer">
<link rel="ractive" href="../components/notification.html" name="c-notification">

<r-page noYield="{{noYield}}" title="{{title}}" description="{{description}}">
	<c-notification></c-notification>
	<c-header></c-header>

	<div class="p-become-a-sponsor">
		<div class="navigation">
			<a href="/sponsors">Our sponsors</a>
			<a class="active">Become our sponsor</a>
		</div>

		<div class="container">
			<div class="head-wrapper">
				<div class="head-wrapper_map-wrapper">
					<img class="head-map-bg" width="908" height="428" src="{{@shared.assetsHost}}/img/sponsors/map.svg" />
				</div>

				<div class="head-title">
					<span>Become a sponsor</span>
					<span>and help us make jsDelivr better</span>
				</div>

				<div class="head-subtitle">
					Support us
				</div>

				<div class="head-descr">
					Support jsDelivr by donating to us through Github Sponsors and Open Collective and help cover the expenses of our
					infrastructure and sponsor the development of new features
				</div>

				<div class="head-ctrls">
					<a target="_blank" rel="noopener noreferrer" href="https://github.com/sponsors/jsdelivr">
						<img width="20" height="20" src="{{@shared.assetsHost}}/img/icons/github.black.svg" />
						GitHub Sponsors
					</a>
					<a target="_blank" rel="noopener noreferrer" href="https://opencollective.com/jsdelivr">
						<img width="18" height="18" src="{{@shared.assetsHost}}/img/icons/open-collective.svg" />
						Open Collective
					</a>
				</div>
			</div>

			<h3 class="main-title">For corporate Sponsors</h3>

			<div class="plans_tabs">
				<a class="plans_tabs_tab {{#unless activePlan}}active{{/unless}}" on-click="@this.set('activePlan', '')">Platinum</a>
				<a class="plans_tabs_tab {{#if activePlan === 'gold'}}active{{/if}}" on-click="@this.set('activePlan', 'gold')">Gold</a>
				<a class="plans_tabs_tab {{#if activePlan === 'bronze'}}active{{/if}}" on-click="@this.set('activePlan', 'bronze')">Bronze</a>
			</div>

			<div class="plans_wrapper">
				<div class="plans_wrapper_plans-list">
					<div class="plans_wrapper_plans-list_plan platinum">
						<div class="sp-topline">&nbsp;</div>
						<div class="sp-top">
						<div class="sp-level platinum">platinum</div>
							<div class="amount">
								$1,500 +
								<div class="sp-tooltip">$1,500/month worth of services,<br /> developer hours or monthly donation</div>
							</div>
							<div class="month">/month</div>

							<div class="sp-desc">$1500/month worth of services, developer hours or monthly donation</div>
						</div>

						<a class="sp-button" href="mailto:dak@prospectone.io?subject=Become a platinum sponsor">Become a sponsor</a>

						<a href="/sponsors#platinum" class="sample">Sample</a>

						<div class="sp-divider"></div>

						<div class="plan-feautures">
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Big logo on top, on "Sponsors" page along with a text description</div>
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Logo + link in header
							</div>
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Tweet
							</div>
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Blog post announcing the sponsorship
							</div>
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Mentions future in blog posts on third-party websites
							</div>
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Other possible partnership opportunities
							</div>
						</div>
					</div>

					<div class="plans_wrapper_plans-list_plan gold">
						<div class="sp-topline">&nbsp;</div>
						<div class="sp-top">
							<div class="sp-level gold">gold</div>
							<div class="amount gold">
								$500
								<div class="sp-tooltip">$500/month worth of services,<br /> developer hours or monthly donation</div>
							</div>
							<div class="month">/month</div>

								<div class="sp-desc">$500/month worth of services, developer hours or monthly donation</div>
						</div>

						<a class="sp-button" href="mailto:dak@prospectone.io?subject=Become a gold sponsor">Become a sponsor</a>

						<a href="/sponsors#gold" class="sample">Sample</a>

						<div class="sp-divider"></div>

						<div class="plan-feautures">
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Logo + link below Platinum sponsors on "Sponsors" page. Small description
							</div>
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Logo + link in header
							</div>
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Tweet
							</div>
							<div class="disabled">
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.disabled.svg" />
								Blog post announcing the sponsorship
							</div>
							<div class="disabled">
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.disabled.svg" />
								Mentions future in blog posts on third-party websites
							</div>
							<div class="disabled">
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.disabled.svg" />
								Other possible partnership opportunities
							</div>
						</div>
					</div>

					<div class="plans_wrapper_plans-list_plan bronze">
						<div class="sp-topline">&nbsp;</div>
						<div class="sp-top">
							<div class="sp-level bronze">bronze</div>
							<div class="amount">
								$150
								<div class="sp-tooltip">$150/month worth of services,<br /> developer hours or monthly donation
								</div>
							</div>
							<div class="month">/month</div>

								<div class="sp-desc">$150/month worth of services, developer hours or monthly donation</div>
						</div>

						<a class="sp-button" href="mailto:dak@prospectone.io?subject=Become a bronze sponsor">Become a sponsor</a>

						<a href="/sponsors#bronze" class="sample">Sample</a>

						<div class="sp-divider"></div>

						<div class="plan-feautures">
							<div>
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.full.svg" />
								Logo + link below Gold sponsors on "Sponsors" page. No description
							</div>
							<div class="disabled">
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.disabled.svg" />
								Logo + link in header
							</div>
							<div class="disabled">
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.disabled.svg" />
								Tweet
							</div>
							<div class="disabled">
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.disabled.svg" />
								Blog post announcing the sponsorship
							</div>
							<div class="disabled">
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.disabled.svg" />
								Mentions future in blog posts on third-party websites
							</div>
							<div class="disabled">
								<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.disabled.svg" />
								Other possible partnership opportunities
							</div>
						</div>
					</div>

					<div class="plans_wrapper_plans-list_plan custom">
						<div class="sp-topline">&nbsp;</div>
						<div class="sp-top">
							<div class="sp-level custom">custom</div>
						</div>

						<div class="sp-text">
							For companies that want to offer a smaller or bigger amount than the ones listed above and/or have custom requirements from jsDelivr.
						</div>

						<a class="sp-button" href="mailto:dak@prospectone.io?subject=Become a custom sponsor">Become a sponsor</a>
					</div>
				</div>
			</div>

			<div class="custom-plan">
				<div class="custom-plan_name">custom</div>

				<div class="custom-plan_text">
					For companies that want to offer a smaller or bigger amount than the ones listed above and/or have custom requirements from jsDelivr.
				</div>

				<a class="custom-plan_btn" href="mailto:dak@prospectone.io?subject=Become a custom sponsor">Become a sponsor</a>
			</div>

			<div class="bottom-info">
				<div class="title">You can sponsor jsDelivr by:</div>
				<div class="list">
					<div>
						<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.svg" />
						providing us your service for free (CDN, DNS, web hosting, anything else we might need)
					</div>
					<div>
						<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.svg" />
						making monthly donations to help us cover development costs and other expenses
					</div>
					<div>
						<img width="24" height="24" src="{{@shared.assetsHost}}/img/icons/check-circle.svg" />
						donating development hours of your employees
					</div>
				</div>
				<div class="descr">
					Your sponsorship level is based on the value of your monthly donation. For example, to become a Bronze sponsor, you
					<br />
					need to sponsor a service worth $150 - 499 per month, donate the same amount of money, or corresponding number
					<br />
					of development hours.
				</div>
				<div>
					Just <a class="mail-us" href="mailto:dak@prospectone.io?subject=Sponsoring jsDelivr">send us an email</a> if you have any questions.
				</div>
			</div>
		</div>
	</div>

	<c-footer></c-footer>
</r-page>

<script>
	component.exports = {
		data () {
			return {
				title: 'Become a sponsor - jsDelivr',
				description: 'Become a sponsor and help us make jsDelivr better!',
				activePlan: '',
			};
		},
		handleSlider (ractiveThis, wrapper, items) {
			let posX1 = 0,
				posX2 = 0,
				posInitial,
				posFinal,
				threshold = 100,
				slides = items.querySelectorAll('.plans_wrapper_plans-list_plan'),
				// one slide is Custom plan which is hidden for slider, ergo -1
				slidesLength = slides.length - 1,
				slideWidth = items.querySelector('.plans_wrapper_plans-list_plan').offsetWidth,
				index = 0,
				allowShift = true;

			wrapper.classList.add('loaded');

			items.onmousedown = handleDragStart;

			items.addEventListener('touchstart', handleDragStart);
			items.addEventListener('touchend', handleDragEnd);
			items.addEventListener('touchmove', handleDragAction);
			items.addEventListener('transitionend', handleEndOfTransition);

			ractiveThis.observe('activePlan', (value) => {
				console.log("++++ value", value);
				console.log("+__________________");
				handlePlanChange(value);
			});

			function handlePlanChange (activePlan) {
				let index = 0;
				switch (activePlan) {
					case '':
						index = 0;
						break;
					case 'gold':
						index = 1;
						break;
					case 'bronze':
						index = 2;
						break;
					default:
						index = 0;
				}

				console.log("++++ activePlan", activePlan);
				console.log("++++ posInitial", posInitial);
				console.log("++++ slideWidth", slideWidth);
				console.log("++++ index", index);
				console.log("++______________________");
				items.style.left = `-${index * slideWidth}px`;
			}

			function handleDragStart (e) {
				e.preventDefault();
				posInitial = items.offsetLeft;

				if (e.type === 'touchstart') {
					posX1 = e.touches[0].clientX;
				} else {
					posX1 = e.clientX;
					document.onmouseup = handleDragEnd;
					document.onmousemove = handleDragAction;
				}
			}

			function handleDragAction (e) {
				if (e.type === 'touchmove') {
					posX2 = posX1 - e.touches[0].clientX;
					posX1 = e.touches[0].clientX;
				} else {
					posX2 = posX1 - e.clientX;
					posX1 = e.clientX;
				}

				if (
					(items.offsetLeft === 0 && (items.offsetLeft - posX2) > 0)
					|| (items.offsetLeft === -(slideWidth * (slidesLength - 1)) && (items.offsetLeft - posX2) < -(slideWidth * (slidesLength - 1)))
				) {
					items.style.left = items.offsetLeft;
				} else {
					items.style.left = `${items.offsetLeft - posX2}px`;
				}
			}

			function handleDragEnd () {
				posFinal = items.offsetLeft;

				if (posFinal - posInitial < -threshold) {
					handleShiftSlide(1);
				} else if (posFinal - posInitial > threshold) {
					handleShiftSlide(-1);
				} else {
					items.style.left = posInitial + 'px';
				}

				document.onmouseup = null;
				document.onmousemove = null;
			}

			function handleShiftSlide (dir) {
				items.classList.add('shifting');

				if (allowShift) {
					if (dir === 1) {
						items.style.left = `${posInitial - slideWidth}px`;
						index++;
					} else if (dir === -1) {
						items.style.left = `${posInitial + slideWidth}px`;
						index--;
					}
				}

				let plan = '';

				switch (index) {
					case 0:
						plan = '';
						break;
					case 1:
						plan = 'gold';
						break;
					case 2:
						plan = 'bronze';
						break;
					default:
						plan = '';
				}

				ractiveThis.set('activePlan', plan);
				allowShift = false;
			}

			function handleEndOfTransition () {
				items.classList.remove('shifting');

				allowShift = true;
			}
		},
		onrender () {
			if (!Ractive.isServer) {
				let plansListWrapper = document.querySelector('.plans_wrapper');
				let plansList = document.querySelector('.plans_wrapper_plans-list');

				this.handleSlider(this, plansListWrapper, plansList);
			}
		},
	};
</script>
