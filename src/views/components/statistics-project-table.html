<div class="c-statistics-project-table">
    <div class="projects-info">
        <h3>{{ title }}</h3>
        <div class="btn-group">
            <span>Type:</span>
            <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span>{{statsType}}</span>
                <i class="fa fa-angle-down" aria-hidden="true"></i>
            </button>

            <ul class="dropdown-menu">
                {{#each statsTypeList}}
                <li>
                    <a on-click="@this.set('statsType', @key)">{{this}}</a>
                </li>
                {{/each}}
            </ul>
        </div>
    </div>
    <div class="projects-data-table">
        <table>
            <tr>
                <th>Name</th>
                <th>Requests</th>
                <th>Bandwidth</th>
                {{ #if type === "trending" }}
                    <th>Increased</th>
                {{ /if }}
            </tr>
            <tr>
                <td colspan="{{ #if type === 'trending' }}4{{ else }}3{{ /if }}">
                    <div class="scrollable">
                        <table class="content">
                            {{#each projectListByPage}}
                                <tr>
                                    <td>
                                        <span class="id">{{id}}</span>
                                        <div><span>{{package}}<span>/<p>{{name}}</p>
                                        </div>
                                    </td>
                                    <td>
                                        {{hits}}
                                        <div class="percentage-bar">
                                            <div class="barWidth">

                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        {{bandwidth}}
                                        <div class="percentage-bar">
                                            <div class="barWidth">

                                            </div>
                                        </div>
                                    </td>
                                    {{ #if ~/type === "trending" }}
                                        <td class="{{ interest >= 0? 'positive': 'negative'}}">
                                            {{ toSignedPercentage(interest) }}
                                        </td>
                                    {{ /if }}
                                </tr>
                            {{/each}}
                        </table>
                    </div>
                </td>
            </tr>
        </table>
        <div class="projects-data-table-mobile">
            {{#each projectListByPage}}
                <div class="table-item">
                    <div class="name">
                        <span class="id">{{id}}</span>
                        <span class="prefix">{{package}}/</span>
                        <p>{{name}}</p>
                    </div>
                    <h5 class="item-name">Requests</h5>
                    <div class="requests">
                        {{hits}}
                        <div class="percentage-bar">
                            <div class="barWidth">

                            </div>
                        </div>
                    </div>
                    <h5 class="item-name">Bandwidth</h5>
                    <div class="requests">
                        {{bandwidth}}
                        <div class="percentage-bar">
                            <div class="barWidth">
                            </div>
                        </div>
                    </div>
                </div>
            {{/each}}
        </div>
        <div class="pagination">
            <p>{{ pageRange }}</p>
            <div class="pagination-change-page">
                <button>
                    <img 
                        width="20" 
                        height="24" 
                        src="{{@shared.assetsHost}}/img/statistics/left.svg" 
                        loading="lazy" 
                    />
                </button>
                {{ #each showablePages.pageCount }}
                    <button 
                        class="{{ #if (~/showablePages.start + @key) === page }}selected{{ /if }}"
                        on-click="@this.set('page', ~/showablePages.start + @key)"
                    >
                        {{ ~/showablePages.start + @key }}
                    </button>
                {{ /each }}
                <button>
                    <img 
                        width="24" 
                        height="24" 
                        src="{{@shared.assetsHost}}/img/statistics/right.svg" 
                        loading="lazy" 
                    />
                </button>
            </div>
            <div class="btn-group">
                <span>Show:</span>
                <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
                    <span>{{pageLimit}}</span>
                    <i class="fa fa-angle-down" aria-hidden="true"></i>
                </button>
                <ul class="dropdown-menu">
                    {{#each paginationLimits}}
                    <li>
                        <a on-click="@this.set('pageLimit', this)">{{this}}</a>
                    </li>
                    {{/each}}
                </ul>
                <span>per page</span>
            </div>
        </div>
    </div>
</div>

<script>
    const _ = require('../../public/js/_');
    const http = require('../../public/js/utils/http');

    component.exports = {
        computed: {
            pageRange() {
                let page = this.get("page");
                let pageLimit = parseInt(this.get("pageLimit"));
                let total = this.get("projectList").length;

                let start = (page - 1) * pageLimit + 1;
                let end = start + pageLimit - 1;
                end = total > end? end: total;

                return `Records ${start} - ${end} of ${total}`;
            },
            showablePages() {
                let page = this.get("page");
                let pageLimit = parseInt(this.get("pageLimit"));
                let totalRows = this.get("projectList").length;

                let totalPages = Math.ceil(totalRows / pageLimit) || 1;

                let start = (page - 2) < 1? 1: page - 2;
                let end = (start + 4) > totalPages? totalPages: start + 4;

                return {
                    start,
                    pageCount: new Array(end - start + 1)
                };
            },
            projectListByPage() {
                let page = this.get("page");
                let pageLimit = parseInt(this.get("pageLimit"));
                let projectList = this.get("projectList");
                let total = projectList.length;

                let start = (page - 1) * pageLimit + 1;
                let end = start + pageLimit - 1;
                end = total > end? end: total;

                return projectList.slice(start-1, end);
            }
        },
        data() {
            return {
                statsType: 'All types',
				statsTypeList: [ 'All types', 'All types', 'All types' ],
                page: 1,
                pageLimit: '10',
				paginationLimits: [ '10', '20', '30', '40' ],
				projectList: [
                    {
                        "id": 1,
                        "type": "gh",
                        "name": "user/package-59",
                        "hits": 247500,
                        "bandwidth": 3532592100,
                        "prev": {
                            "hits": 229500,
                            "bandwidth": 3532574100
                        }
                    },
                    {
                        "id": 2,
                        "type": "gh",
                        "name": "user/package-58",
                        "hits": 147060,
                        "bandwidth": 2095939260,
                        "prev": {
                            "hits": 136260,
                            "bandwidth": 2095928460
                        }
                    },
                    {
                        "id": 3,
                        "type": "gh",
                        "name": "user/package-57",
                        "hits": 145980,
                        "bandwidth": 2078227260,
                        "prev": {
                            "hits": 135180,
                            "bandwidth": 2078216460
                        }
                    },
                    {
                        "id": 4,
                        "type": "gh",
                        "name": "user/package-56",
                        "hits": 144900,
                        "bandwidth": 2060515260,
                        "prev": {
                            "hits": 134100,
                            "bandwidth": 2060504460
                        }
                    },
                    {
                        "id": 5,
                        "type": "gh",
                        "name": "user/package-55",
                        "hits": 143820,
                        "bandwidth": 2042803260,
                        "prev": {
                            "hits": 133020,
                            "bandwidth": 2042792460
                        }
                    },
                    {
                        "id": 6,
                        "type": "gh",
                        "name": "user/package-54",
                        "hits": 142740,
                        "bandwidth": 2025091260,
                        "prev": {
                            "hits": 131940,
                            "bandwidth": 2025080460
                        }
                    },
                    {
                        "id": 7,
                        "type": "gh",
                        "name": "user/package-53",
                        "hits": 141660,
                        "bandwidth": 2007379260,
                        "prev": {
                            "hits": 130860,
                            "bandwidth": 2007368460
                        }
                    },
                    {
                        "id": 8,
                        "type": "gh",
                        "name": "user/package-52",
                        "hits": 140580,
                        "bandwidth": 1989667260,
                        "prev": {
                            "hits": 129780,
                            "bandwidth": 1989656460
                        }
                    },
                    {
                        "id": 9,
                        "type": "gh",
                        "name": "user/package-51",
                        "hits": 139500,
                        "bandwidth": 1971955260,
                        "prev": {
                            "hits": 128700,
                            "bandwidth": 1971944460
                        }
                    },
                    {
                        "id": 10,
                        "type": "gh",
                        "name": "user/package-50",
                        "hits": 138420,
                        "bandwidth": 1954243260,
                        "prev": {
                            "hits": 127620,
                            "bandwidth": 1954232460
                        }
                    },
                    {
                        "id": 11,
                        "type": "gh",
                        "name": "user/package-49",
                        "hits": 137340,
                        "bandwidth": 1936531260,
                        "prev": {
                            "hits": 126540,
                            "bandwidth": 1936520460
                        }
                    },
                    {
                        "id": 12,
                        "type": "gh",
                        "name": "user/package-48",
                        "hits": 136260,
                        "bandwidth": 1918819260,
                        "prev": {
                            "hits": 125460,
                            "bandwidth": 1918808460
                        }
                    },
                    {
                        "id": 13,
                        "type": "gh",
                        "name": "user/package-47",
                        "hits": 135180,
                        "bandwidth": 1901107260,
                        "prev": {
                            "hits": 124380,
                            "bandwidth": 1901096460
                        }
                    },
                    {
                        "id": 14,
                        "type": "gh",
                        "name": "user/package-46",
                        "hits": 134100,
                        "bandwidth": 1883395260,
                        "prev": {
                            "hits": 123300,
                            "bandwidth": 1883384460
                        }
                    },
                    {
                        "id": 15,
                        "type": "gh",
                        "name": "user/package-45",
                        "hits": 133020,
                        "bandwidth": 1865683260,
                        "prev": {
                            "hits": 122220,
                            "bandwidth": 1865672460
                        }
                    },
                    {
                        "id": 16,
                        "type": "gh",
                        "name": "user/package-44",
                        "hits": 131940,
                        "bandwidth": 1847971260,
                        "prev": {
                            "hits": 121140,
                            "bandwidth": 1847960460
                        }
                    },
                    {
                        "id": 17,
                        "type": "gh",
                        "name": "user/package-43",
                        "hits": 130860,
                        "bandwidth": 1830259260,
                        "prev": {
                            "hits": 120060,
                            "bandwidth": 1830248460
                        }
                    },
                    {
                        "id": 18,
                        "type": "gh",
                        "name": "user/package-42",
                        "hits": 129780,
                        "bandwidth": 1812547260,
                        "prev": {
                            "hits": 118980,
                            "bandwidth": 1812536460
                        }
                    },
                    {
                        "id": 19,
                        "type": "gh",
                        "name": "user/package-41",
                        "hits": 128700,
                        "bandwidth": 1794835260,
                        "prev": {
                            "hits": 117900,
                            "bandwidth": 1794824460
                        }
                    },
                    {
                        "id": 20,
                        "type": "gh",
                        "name": "user/package-40",
                        "hits": 127620,
                        "bandwidth": 1777123260,
                        "prev": {
                            "hits": 116820,
                            "bandwidth": 1777112460
                        }
                    },
                    {
                        "id": 21,
                        "type": "gh",
                        "name": "user/package-39",
                        "hits": 126540,
                        "bandwidth": 1759411260,
                        "prev": {
                            "hits": 115740,
                            "bandwidth": 1759400460
                        }
                    },
                    {
                        "id": 22,
                        "type": "gh",
                        "name": "user/package-38",
                        "hits": 125460,
                        "bandwidth": 1741699260,
                        "prev": {
                            "hits": 114660,
                            "bandwidth": 1741688460
                        }
                    },
                    {
                        "id": 23,
                        "type": "gh",
                        "name": "user/package-37",
                        "hits": 124380,
                        "bandwidth": 1723987260,
                        "prev": {
                            "hits": 113580,
                            "bandwidth": 1723976460
                        }
                    },
                    {
                        "id": 24,
                        "type": "gh",
                        "name": "user/package-36",
                        "hits": 123300,
                        "bandwidth": 1706275260,
                        "prev": {
                            "hits": 112500,
                            "bandwidth": 1706264460
                        }
                    },
                    {
                        "id": 25,
                        "type": "gh",
                        "name": "user/package-35",
                        "hits": 122220,
                        "bandwidth": 1688563260,
                        "prev": {
                            "hits": 111420,
                            "bandwidth": 1688552460
                        }
                    },
                    {
                        "id": 26,
                        "type": "gh",
                        "name": "user/package-34",
                        "hits": 121140,
                        "bandwidth": 1670851260,
                        "prev": {
                            "hits": 110340,
                            "bandwidth": 1670840460
                        }
                    },
                    {
                        "id": 27,
                        "type": "gh",
                        "name": "user/package-33",
                        "hits": 120060,
                        "bandwidth": 1653139260,
                        "prev": {
                            "hits": 109260,
                            "bandwidth": 1653128460
                        }
                    },
                    {
                        "id": 28,
                        "type": "gh",
                        "name": "user/package-32",
                        "hits": 118980,
                        "bandwidth": 1635427260,
                        "prev": {
                            "hits": 108180,
                            "bandwidth": 1635416460
                        }
                    },
                    {
                        "id": 29,
                        "type": "gh",
                        "name": "user/package-31",
                        "hits": 117900,
                        "bandwidth": 1617715260,
                        "prev": {
                            "hits": 107100,
                            "bandwidth": 1617704460
                        }
                    },
                    {
                        "id": 30,
                        "type": "gh",
                        "name": "user/package-30",
                        "hits": 116820,
                        "bandwidth": 1600003260,
                        "prev": {
                            "hits": 106020,
                            "bandwidth": 1599992460
                        }
                    },
                    {
                        "id": 31,
                        "type": "gh",
                        "name": "user/package-29",
                        "hits": 115740,
                        "bandwidth": 1582291260,
                        "prev": {
                            "hits": 104940,
                            "bandwidth": 1582280460
                        }
                    },
                    {
                        "id": 32,
                        "type": "gh",
                        "name": "user/package-28",
                        "hits": 114660,
                        "bandwidth": 1564579260,
                        "prev": {
                            "hits": 103860,
                            "bandwidth": 1564568460
                        }
                    },
                    {
                        "id": 33,
                        "type": "gh",
                        "name": "user/package-27",
                        "hits": 113580,
                        "bandwidth": 1546867260,
                        "prev": {
                            "hits": 102780,
                            "bandwidth": 1546856460
                        }
                    },
                    {
                        "id": 34,
                        "type": "gh",
                        "name": "user/package-26",
                        "hits": 112500,
                        "bandwidth": 1529155260,
                        "prev": {
                            "hits": 101700,
                            "bandwidth": 1529144460
                        }
                    },
                    {
                        "id": 35,
                        "type": "gh",
                        "name": "user/package-25",
                        "hits": 111420,
                        "bandwidth": 1511443260,
                        "prev": {
                            "hits": 100620,
                            "bandwidth": 1511432460
                        }
                    },
                    {
                        "id": 36,
                        "type": "gh",
                        "name": "user/package-24",
                        "hits": 110340,
                        "bandwidth": 1493731260,
                        "prev": {
                            "hits": 99540,
                            "bandwidth": 1493720460
                        }
                    },
                    {
                        "id": 37,
                        "type": "gh",
                        "name": "user/package-23",
                        "hits": 109260,
                        "bandwidth": 1476019260,
                        "prev": {
                            "hits": 98460,
                            "bandwidth": 1476008460
                        }
                    },
                    {
                        "id": 38,
                        "type": "gh",
                        "name": "user/package-22",
                        "hits": 108180,
                        "bandwidth": 1458307260,
                        "prev": {
                            "hits": 97380,
                            "bandwidth": 1458296460
                        }
                    },
                    {
                        "id": 39,
                        "type": "gh",
                        "name": "user/package-21",
                        "hits": 107100,
                        "bandwidth": 1440595260,
                        "prev": {
                            "hits": 96300,
                            "bandwidth": 1440584460
                        }
                    },
                    {
                        "id": 40,
                        "type": "gh",
                        "name": "user/package-20",
                        "hits": 106020,
                        "bandwidth": 1422883260,
                        "prev": {
                            "hits": 95220,
                            "bandwidth": 1422872460
                        }
                    },
                    {
                        "id": 41,
                        "type": "gh",
                        "name": "user/package-19",
                        "hits": 104940,
                        "bandwidth": 1405171260,
                        "prev": {
                            "hits": 94140,
                            "bandwidth": 1405160460
                        }
                    },
                    {
                        "id": 42,
                        "type": "gh",
                        "name": "user/package-18",
                        "hits": 103860,
                        "bandwidth": 1387459260,
                        "prev": {
                            "hits": 93060,
                            "bandwidth": 1387448460
                        }
                    },
                    {
                        "id": 43,
                        "type": "gh",
                        "name": "user/package-17",
                        "hits": 102780,
                        "bandwidth": 1369747260,
                        "prev": {
                            "hits": 91980,
                            "bandwidth": 1369736460
                        }
                    },
                    {
                        "id": 44,
                        "type": "gh",
                        "name": "user/package-16",
                        "hits": 101700,
                        "bandwidth": 1352035260,
                        "prev": {
                            "hits": 90900,
                            "bandwidth": 1352024460
                        }
                    },
                    {
                        "id": 45,
                        "type": "gh",
                        "name": "user/package-15",
                        "hits": 100620,
                        "bandwidth": 1334323260,
                        "prev": {
                            "hits": 89820,
                            "bandwidth": 1334312460
                        }
                    },
                    {
                        "id": 46,
                        "type": "gh",
                        "name": "user/package-14",
                        "hits": 99540,
                        "bandwidth": 1316611260,
                        "prev": {
                            "hits": 88740,
                            "bandwidth": 1316600460
                        }
                    },
                    {
                        "id": 47,
                        "type": "gh",
                        "name": "user/package-13",
                        "hits": 98460,
                        "bandwidth": 1298899260,
                        "prev": {
                            "hits": 87660,
                            "bandwidth": 1298888460
                        }
                    },
                    {
                        "id": 48,
                        "type": "gh",
                        "name": "user/package-12",
                        "hits": 97380,
                        "bandwidth": 1281187260,
                        "prev": {
                            "hits": 86580,
                            "bandwidth": 1281176460
                        }
                    },
                    {
                        "id": 49,
                        "type": "gh",
                        "name": "user/package-11",
                        "hits": 96300,
                        "bandwidth": 1263475260,
                        "prev": {
                            "hits": 85500,
                            "bandwidth": 1263464460
                        }
                    },
                    {
                        "id": 50,
                        "type": "gh",
                        "name": "user/package-10",
                        "hits": 95220,
                        "bandwidth": 1245763260,
                        "prev": {
                            "hits": 84420,
                            "bandwidth": 1245752460
                        }
                    },
                    {
                        "id": 51,
                        "type": "gh",
                        "name": "user/package-9",
                        "hits": 94140,
                        "bandwidth": 1228051260,
                        "prev": {
                            "hits": 83340,
                            "bandwidth": 1228040460
                        }
                    },
                    {
                        "id": 52,
                        "type": "gh",
                        "name": "user/package-8",
                        "hits": 93060,
                        "bandwidth": 1210339260,
                        "prev": {
                            "hits": 82260,
                            "bandwidth": 1210328460
                        }
                    },
                    {
                        "id": 53,
                        "type": "gh",
                        "name": "user/package-7",
                        "hits": 91980,
                        "bandwidth": 1192627260,
                        "prev": {
                            "hits": 81180,
                            "bandwidth": 1192616460
                        }
                    },
                    {
                        "id": 54,
                        "type": "gh",
                        "name": "user/package-6",
                        "hits": 90900,
                        "bandwidth": 1174915260,
                        "prev": {
                            "hits": 80100,
                            "bandwidth": 1174904460
                        }
                    },
                    {
                        "id": 55,
                        "type": "gh",
                        "name": "user/package-5",
                        "hits": 89820,
                        "bandwidth": 1157203260,
                        "prev": {
                            "hits": 79020,
                            "bandwidth": 1157192460
                        }
                    },
                    {
                        "id": 56,
                        "type": "gh",
                        "name": "user/package-4",
                        "hits": 88740,
                        "bandwidth": 1139491260,
                        "prev": {
                            "hits": 77940,
                            "bandwidth": 1139480460
                        }
                    },
                    {
                        "id": 57,
                        "type": "gh",
                        "name": "user/package-3",
                        "hits": 87660,
                        "bandwidth": 1121779260,
                        "prev": {
                            "hits": 76860,
                            "bandwidth": 1121768460
                        }
                    },
                    {
                        "id": 58,
                        "type": "gh",
                        "name": "user/package-2",
                        "hits": 86580,
                        "bandwidth": 1104067260,
                        "prev": {
                            "hits": 75780,
                            "bandwidth": 1104056460
                        }
                    },
                    {
                        "id": 59,
                        "type": "gh",
                        "name": "user/package-1",
                        "hits": 85500,
                        "bandwidth": 1086355260,
                        "prev": {
                            "hits": 74700,
                            "bandwidth": 1086344460
                        }
                    },
                    {
                        "id": 60,
                        "type": "gh",
                        "name": "user/package-0",
                        "hits": 84420,
                        "bandwidth": 1068643260,
                        "prev": {
                            "hits": 73620,
                            "bandwidth": 1068632460
                        }
                    },
                    {
                        "id": 61,
                        "type": "npm",
                        "name": "package-59",
                        "hits": 83340,
                        "bandwidth": 1050931260,
                        "prev": {
                            "hits": 72540,
                            "bandwidth": 1050920460
                        }
                    },
                    {
                        "id": 62,
                        "type": "npm",
                        "name": "package-58",
                        "hits": 82260,
                        "bandwidth": 1033219260,
                        "prev": {
                            "hits": 71460,
                            "bandwidth": 1033208460
                        }
                    },
                    {
                        "id": 63,
                        "type": "npm",
                        "name": "package-57",
                        "hits": 81180,
                        "bandwidth": 1015507260,
                        "prev": {
                            "hits": 70380,
                            "bandwidth": 1015496460
                        }
                    },
                    {
                        "id": 64,
                        "type": "npm",
                        "name": "package-56",
                        "hits": 80100,
                        "bandwidth": 997795260,
                        "prev": {
                            "hits": 69300,
                            "bandwidth": 997784460
                        }
                    },
                    {
                        "id": 65,
                        "type": "npm",
                        "name": "package-55",
                        "hits": 79020,
                        "bandwidth": 980083260,
                        "prev": {
                            "hits": 68220,
                            "bandwidth": 980072460
                        }
                    },
                    {
                        "id": 66,
                        "type": "npm",
                        "name": "package-54",
                        "hits": 77940,
                        "bandwidth": 962371260,
                        "prev": {
                            "hits": 67140,
                            "bandwidth": 962360460
                        }
                    },
                    {
                        "id": 67,
                        "type": "npm",
                        "name": "package-53",
                        "hits": 76860,
                        "bandwidth": 944659260,
                        "prev": {
                            "hits": 66060,
                            "bandwidth": 944648460
                        }
                    },
                    {
                        "id": 68,
                        "type": "npm",
                        "name": "package-52",
                        "hits": 75780,
                        "bandwidth": 926947260,
                        "prev": {
                            "hits": 64980,
                            "bandwidth": 926936460
                        }
                    },
                    {
                        "id": 69,
                        "type": "npm",
                        "name": "package-51",
                        "hits": 74700,
                        "bandwidth": 909235260,
                        "prev": {
                            "hits": 63900,
                            "bandwidth": 909224460
                        }
                    },
                    {
                        "id": 70,
                        "type": "npm",
                        "name": "package-50",
                        "hits": 73620,
                        "bandwidth": 891523260,
                        "prev": {
                            "hits": 62820,
                            "bandwidth": 891512460
                        }
                    },
                    {
                        "id": 71,
                        "type": "npm",
                        "name": "package-49",
                        "hits": 72540,
                        "bandwidth": 873811260,
                        "prev": {
                            "hits": 61740,
                            "bandwidth": 873800460
                        }
                    },
                    {
                        "id": 72,
                        "type": "npm",
                        "name": "package-48",
                        "hits": 71460,
                        "bandwidth": 856099260,
                        "prev": {
                            "hits": 60660,
                            "bandwidth": 856088460
                        }
                    },
                    {
                        "id": 73,
                        "type": "npm",
                        "name": "package-47",
                        "hits": 70380,
                        "bandwidth": 838387260,
                        "prev": {
                            "hits": 59580,
                            "bandwidth": 838376460
                        }
                    },
                    {
                        "id": 74,
                        "type": "npm",
                        "name": "package-46",
                        "hits": 69300,
                        "bandwidth": 820675260,
                        "prev": {
                            "hits": 58500,
                            "bandwidth": 820664460
                        }
                    },
                    {
                        "id": 75,
                        "type": "npm",
                        "name": "package-45",
                        "hits": 68220,
                        "bandwidth": 802963260,
                        "prev": {
                            "hits": 57420,
                            "bandwidth": 802952460
                        }
                    },
                    {
                        "id": 76,
                        "type": "npm",
                        "name": "package-44",
                        "hits": 67140,
                        "bandwidth": 785251260,
                        "prev": {
                            "hits": 56340,
                            "bandwidth": 785240460
                        }
                    },
                    {
                        "id": 77,
                        "type": "npm",
                        "name": "package-43",
                        "hits": 66060,
                        "bandwidth": 767539260,
                        "prev": {
                            "hits": 55260,
                            "bandwidth": 767528460
                        }
                    },
                    {
                        "id": 78,
                        "type": "npm",
                        "name": "package-42",
                        "hits": 64980,
                        "bandwidth": 749827260,
                        "prev": {
                            "hits": 54180,
                            "bandwidth": 749816460
                        }
                    },
                    {
                        "id": 79,
                        "type": "npm",
                        "name": "package-41",
                        "hits": 63900,
                        "bandwidth": 732115260,
                        "prev": {
                            "hits": 53100,
                            "bandwidth": 732104460
                        }
                    },
                    {
                        "id": 80,
                        "type": "npm",
                        "name": "package-40",
                        "hits": 62820,
                        "bandwidth": 714403260,
                        "prev": {
                            "hits": 52020,
                            "bandwidth": 714392460
                        }
                    },
                    {
                        "id": 81,
                        "type": "npm",
                        "name": "package-39",
                        "hits": 61740,
                        "bandwidth": 696691260,
                        "prev": {
                            "hits": 50940,
                            "bandwidth": 696680460
                        }
                    },
                    {
                        "id": 82,
                        "type": "npm",
                        "name": "package-38",
                        "hits": 60660,
                        "bandwidth": 678979260,
                        "prev": {
                            "hits": 49860,
                            "bandwidth": 678968460
                        }
                    },
                    {
                        "id": 83,
                        "type": "npm",
                        "name": "package-37",
                        "hits": 59580,
                        "bandwidth": 661267260,
                        "prev": {
                            "hits": 48780,
                            "bandwidth": 661256460
                        }
                    },
                    {
                        "id": 84,
                        "type": "npm",
                        "name": "package-36",
                        "hits": 58500,
                        "bandwidth": 643555260,
                        "prev": {
                            "hits": 47700,
                            "bandwidth": 643544460
                        }
                    },
                    {
                        "id": 85,
                        "type": "npm",
                        "name": "package-35",
                        "hits": 57420,
                        "bandwidth": 625843260,
                        "prev": {
                            "hits": 46620,
                            "bandwidth": 625832460
                        }
                    },
                    {
                        "id": 86,
                        "type": "npm",
                        "name": "package-34",
                        "hits": 56340,
                        "bandwidth": 608131260,
                        "prev": {
                            "hits": 45540,
                            "bandwidth": 608120460
                        }
                    },
                    {
                        "id": 87,
                        "type": "npm",
                        "name": "package-33",
                        "hits": 55260,
                        "bandwidth": 590419260,
                        "prev": {
                            "hits": 44460,
                            "bandwidth": 590408460
                        }
                    },
                    {
                        "id": 88,
                        "type": "npm",
                        "name": "package-32",
                        "hits": 54180,
                        "bandwidth": 572707260,
                        "prev": {
                            "hits": 43380,
                            "bandwidth": 572696460
                        }
                    },
                    {
                        "id": 89,
                        "type": "npm",
                        "name": "package-31",
                        "hits": 53100,
                        "bandwidth": 554995260,
                        "prev": {
                            "hits": 42300,
                            "bandwidth": 554984460
                        }
                    },
                    {
                        "id": 90,
                        "type": "npm",
                        "name": "package-30",
                        "hits": 52020,
                        "bandwidth": 537283260,
                        "prev": {
                            "hits": 41220,
                            "bandwidth": 537272460
                        }
                    },
                    {
                        "id": 91,
                        "type": "npm",
                        "name": "package-29",
                        "hits": 50940,
                        "bandwidth": 519571260,
                        "prev": {
                            "hits": 40140,
                            "bandwidth": 519560460
                        }
                    },
                    {
                        "id": 92,
                        "type": "npm",
                        "name": "package-28",
                        "hits": 49860,
                        "bandwidth": 501859260,
                        "prev": {
                            "hits": 39060,
                            "bandwidth": 501848460
                        }
                    },
                    {
                        "id": 93,
                        "type": "npm",
                        "name": "package-27",
                        "hits": 48780,
                        "bandwidth": 484147260,
                        "prev": {
                            "hits": 37980,
                            "bandwidth": 484136460
                        }
                    },
                    {
                        "id": 94,
                        "type": "npm",
                        "name": "package-26",
                        "hits": 47700,
                        "bandwidth": 466435260,
                        "prev": {
                            "hits": 36900,
                            "bandwidth": 466424460
                        }
                    },
                    {
                        "id": 95,
                        "type": "npm",
                        "name": "package-25",
                        "hits": 46620,
                        "bandwidth": 448723260,
                        "prev": {
                            "hits": 35820,
                            "bandwidth": 448712460
                        }
                    },
                    {
                        "id": 96,
                        "type": "npm",
                        "name": "package-24",
                        "hits": 45540,
                        "bandwidth": 431011260,
                        "prev": {
                            "hits": 34740,
                            "bandwidth": 431000460
                        }
                    },
                    {
                        "id": 97,
                        "type": "npm",
                        "name": "package-23",
                        "hits": 44460,
                        "bandwidth": 413299260,
                        "prev": {
                            "hits": 33660,
                            "bandwidth": 413288460
                        }
                    },
                    {
                        "id": 98,
                        "type": "npm",
                        "name": "package-22",
                        "hits": 43380,
                        "bandwidth": 395587260,
                        "prev": {
                            "hits": 32580,
                            "bandwidth": 395576460
                        }
                    },
                    {
                        "id": 99,
                        "type": "npm",
                        "name": "package-21",
                        "hits": 42300,
                        "bandwidth": 377875260,
                        "prev": {
                            "hits": 31500,
                            "bandwidth": 377864460
                        }
                    },
                    {
                        "id": 100,
                        "type": "npm",
                        "name": "package-20",
                        "hits": 41220,
                        "bandwidth": 360163260,
                        "prev": {
                            "hits": 30420,
                            "bandwidth": 360152460
                        }
                    }
                ],
                toSignedPercentage: function(num) {
                    return `${num > 0? "+": ""}${num}%`;
                }
            }
        },
        oninit() {
            if(!Ractive.isServer) {
                this.observe("period statsType __ready", function() {
                    if(this.get("__ready")) {
                        // fetch projectList using http api calls 
                        let projectList = this.get("projectList");

                        projectList = projectList.map((one, index) => {
                            let interest = (one.hits + one.bandwidth) * 100 / (one.prev.hits + one.prev.bandwidth) - 1;
                            interest = interest.toFixed(2);

                            return {...one, interest};
                        });

                        this.set("projectList", projectList);
                    }
                })
            }
        }
    }
</script>